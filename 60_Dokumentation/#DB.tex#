Um aus den Bilddaten die in den Feldversuchen gemacht werden Information zu gewinnen, müssen die Daten stukturiert werden. Um das effizient zu speichenrn und machtige datenabfrage machen zu könne (zb pattern matching) wird ein datenbanksystem gebraucht.

Die Daten werden im Feld in die Datenbank geschrieben, und dann zu einen späteren zeitpunkt analysiert.

Im folgenden sind die schritte zur Datenbankauslegung dargestellt.

\subsubsection{Anforderungs Analyse}
Die Anforderungen leiten sich aus der Funktionsweise  des Messaufbaus ab.

Die Datenbank in dieser Bacherlorarbeit wird klein sein, da die Feldversuche zeitintensiev sind. Die vermutung ist, dass maximal 1000 Messungen mit je 3 Taps und je 100 Kreisen.

Mit der Datenbank haben vier Benutzter zu tun.
Die zwei angenelntern Endbenutztre
Die Kamera, die die Bilder der Taps macht und auswerten, muss die Auswertungen in die DB schreiben.

der Versuchsdurchführen gibt zusätzliche Informationen über den Versuch an, die muss er in die DB schreiben.

der Experte Endbenutzter.
Der Analyst wird dann die Daten abfragen, und hoffentlich Information daraus gewinnen.

der DB Administrator wird im Normalbetrieb nicht benötigt, aber soll auch bedacht werden.

\subsubsection{Konzeptueller DB Entwurf}
Mit dem UML (united Modeling lingueage) wird die Struktur der DB dargestellt. Diese Darstellung ist noch lösungsunabhänig.


\subsubsection{Logischer DB Entwurf}
Um die DB zu implemetieren wurde Postgres gewählt. Es ist eine open source system, dass neue features wie zum beispiel json date typen beinhaltet.

\subsubsection{Views für den Analysten}
das endziel ist eine Regression aus den Messung und Tape zu finden, um den 'LWC Denoth'  zu bestimmen. Für diese Aufgabe braucht es nur gewisse angaben aus der DB.

Hier werden zwei views erstellt, der erste ist ein minimalistischer ansatzt mit dem direkt  weiter gearbeitet werden kann. der zweite view ist da um genauer zu verstehen was im ersten view dargestellt ist.

da die views für den read only Analysten sind, muss keine updateble view benutzt werden.

\subsubsection{Physischer Entwurf}
Die Datenbank wird mit dem Code \ref{} inizialisiert.

die verschiedenen benutzter, mit den unterschiedlichen Funktionen werden so gemacht.

Die tabels werden so umgesetzt.

Für die Beispieldaten wurden daten aus der Vorstudie \ref{} für eine Messung benutzt.

Die DB wird am anfang viele NULL werte beinhalten, weil zum beispiel die wetter daten nicht von einer API gefüllt werden. das ist auch okay, die fehlenden werte werden mit 0  aufgefüllt.

Die Transaktionen sind in dieser Anwendung unproblematisch, da der User die Isert machen (Raspberry, FeldForscher) zu einem früheren Zeitpunkt arbeiten als der Read user Analyst.

falls die DB von meinem Laptop auf einen Server aufgelagert wird, werden die folgenden Tools www.owasp.org▪ http://sqlmap.org/ zum testen der Sicherheit benutzt.

\subsubsection{Python interaktion mit der DB}
raspberry der schreibt

versuchsleiter der interaktiv schreibt. oder auch nicht

analyst der auf desktop geschrieben bekommt.




CREATE ROLE readonlyuser WITH LOGIN ENCRYPTED PASSWORD 'readonlyuser' NOINHERIT;


